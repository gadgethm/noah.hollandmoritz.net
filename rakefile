GH_PAGES_DIR = "gadgethm.github.io"
JEKYLL_PAGES_DIR = "jekyll_site"

desc "Build Jekyll site and copy files"
task :build do
  system "bundle exec jekyll build"
  system "git rm -r ../#{GH_PAGES_DIR}/*" unless Dir['../#{GH_PAGES_DIR}/*'].empty?
  system "cp -r _site/* ../#{GH_PAGES_DIR}/"
  system "cd ../#{GH_PAGES_DIR} && git add --all"
end

desc "Build Jekyll site, then launch local test page in firefox"
task :test do
  system "bundle exec jekyll serve"
end

desc "Update Gems and plugins"
task :update do
  system "bundle install"
  system "bundle update"
end
